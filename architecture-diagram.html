<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TurboTax Modern Microservices Architecture</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background: #f5f5f5; 
        }
        .container { 
            max-width: 1350px; 
            margin: 0 auto; 
            background: white; 
            padding: 25px; 
            border-radius: 8px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        h1 { 
            color: #2c3e50; 
            text-align: center; 
            border-bottom: 4px solid #3498db; 
            padding-bottom: 14px;
            font-size: 2.4em;
            margin-bottom: 28px;
        }
        .mermaid { 
            text-align: center; 
            background: white; 
            padding: 25px;
            border: 2px solid #3498db;
            border-radius: 12px;
            margin: 20px 0;
            height: auto;
            overflow: visible;
            width: calc(100% - 10px);
            box-sizing: border-box;
        }
        
        /* Make entity diagram smaller */
        .mermaid:has([id*="entity"]) {
            transform: scale(0.5);
            transform-origin: top center;
            margin-bottom: -120px;
        }
        
        /* Custom Mermaid styling to fix text cutoff */
        .mermaid svg {
            max-width: 100% !important;
            width: 100% !important;
            height: auto;
        }
        
        .mermaid .node rect {
            min-width: 120px !important;
            min-height: 60px !important;
        }
        
        /* Resize AI Refund ETA Service specifically */
        .mermaid .cluster rect {
            min-width: 200px !important;
            min-height: 100px !important;
        }
        
        .mermaid .nodeLabel {
            font-size: 13px !important;
            font-weight: 600 !important;
        }
        
        .mermaid .node text {
            font-size: 13px !important;
            fill: #000 !important;
        }
        
        /* Make subgraphs larger */
        .mermaid .cluster[id*="AI"] rect {
            min-width: 250px !important;
            min-height: 120px !important;
        }
        
        /* Database node styling */
        .mermaid .node.database {
            fill: #fff8e1 !important;
            stroke: #ff8f00 !important;
            stroke-width: 3px !important;
        }
        
        /* Cross-cutting concerns styling */
        .mermaid .node.crosscutting {
            fill: #f3e5f5 !important;
            stroke: #8e24aa !important;
            stroke-width: 2px !important;
        }
        .description {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .service-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(290px, 1fr));
            gap: 22px;
            margin: 28px 0;
        }
        .service-card {
            background: #fff;
            border: 2px solid #bdc3c7;
            border-radius: 10px;
            padding: 19px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            font-size: 14px;
        }
        .service-card h3 {
            color: #2980b9;
            margin-top: 0;
        }
        .port {
            background: #e74c3c;
            color: white;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: bold;
        }
        .endpoint {
            background: #27ae60;
            color: white;
            padding: 4px 10px;
            border-radius: 5px;
            font-size: 13px;
            margin: 3px;
            display: inline-block;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>TurboTax Modern Microservices Architecture</h1>
        
        <div class="description">
            <p><strong>Overview:</strong> Modernized TurboTax microservices architecture featuring Java 24 records, intelligent caching, and comprehensive API documentation. Built with 6 core services optimized for performance and maintainability.</p>
            <p><strong>Key Modernizations:</strong> Lombok-free codebase ‚Ä¢ Java Records for immutable data ‚Ä¢ TTL-based caching ‚Ä¢ Enhanced Javadoc documentation ‚Ä¢ Type-safe APIs</p>
        </div>

        <div class="mermaid">
graph TB
    User[User/Client Application]
    Gateway[API Gateway]
    
    User --> Gateway
    Gateway --> RQS
    
    subgraph "Core Services"
        RQS["RefundQueryService<br/>Port 8001<br/>Main Entry Point"]
        FDS["FilingDataService<br/>Port 7001<br/>TaxFiling Records"]
        RAS["RefundAggregationService<br/>Port 7002<br/>External Integration"]
        RPS["RefundPredictionService<br/>Port 7003<br/>ML + Prediction Cache"]
    end
    
    subgraph "Data Layer"
        FilingDB[("Filing Database<br/>TaxFiling Records")]
        RefundDB[("Refund Database<br/>RefundStatusAggregate")]
        ModelDB[("Model Database<br/>PredictionResult")]
        
        subgraph "Caching Layer"
            PredCache["Prediction Cache<br/>TTL: 4h<br/>Cache PredictionResult"]
            ETACache["ETA Cache<br/>TTL: 30m<br/>Cache RefundEtaPrediction"]
            StatusCache["Status Cache<br/>TTL: 4h<br/>Cache RefundStatusData"]
            QueryCache["Query Cache<br/>TTL: 30m<br/>Cache RefundSummary"]
        end
    end
    
    subgraph "External Integrations"
        IRS["IRS API<br/>Real-time Status"]
        StateTax["State Tax APIs<br/>Multi-jurisdiction"]
        BankAPI["Banking APIs<br/>Money Movement"]
    end
    
    subgraph "Event & Messaging"
        Kafka["Kafka Event Broker<br/>Status Change Events"]
        NotificationSvc["Notification Service<br/>User Alerts"]
    end
    
    %% Primary service flow - actual architecture
    RQS --> FDS
    RQS --> RAS
    RQS --> RPS
    
    %% Database connections with modern entities
    FDS --> FilingDB
    RAS --> RefundDB
    RPS --> ModelDB
    
    %% Caching connections - simplified with single arrows
    RPS -.-> PredCache
    RPS -.-> ETACache
    RAS -.-> StatusCache
    RQS -.-> QueryCache
    
    %% External API connections
    RAS --> IRS
    RAS --> StateTax
    RAS --> BankAPI
    
    %% Event-driven architecture
    RAS -->|Status Events| Kafka
    Kafka -->|User Notifications| NotificationSvc
    
    %% Styling for modern architecture
    classDef service fill:#e3f2fd,stroke:#1976d2,stroke-width:3px,color:#000
    classDef database fill:#fff3e0,stroke:#f57c00,stroke-width:2px,color:#000
    classDef cache fill:#e8f5e8,stroke:#388e3c,stroke-width:2px,color:#000
    classDef external fill:#fff8e1,stroke:#fbc02d,stroke-width:2px,color:#000
    classDef event fill:#fce4ec,stroke:#c2185b,stroke-width:2px,color:#000
    
    class RQS,FDS,RAS,RPS service
    class FilingDB,RefundDB,ModelDB database
    class PredCache,ETACache,StatusCache,QueryCache cache
    class IRS,StateTax,BankAPI external
    class Kafka,NotificationSvc event
        </div>

        <h2>Service Overview</h2>
        <div class="service-grid">
            <div class="service-card">
                <h3>Refund Query Service</h3>
                <div class="port">Port 8001</div>
                <p><strong>Main Entry Point</strong> - Orchestrates refund status queries with intelligent caching</p>
                <div class="endpoint">GET /refund-status</div>
                <p><em>Features:</em> TTL-based caching (10m TTL) ‚Ä¢ Modern Java records ‚Ä¢ Enhanced error handling</p>
                <p><em>Implementation:</em> RefundQueryOrchestrator with comprehensive orchestration and user-level caching</p>
            </div>

            <div class="service-card">
                <h3>Filing Data Service</h3>
                <div class="port">Port 7001</div>
                <p><strong>Filing Information</strong> - Manages tax filing data with modern record structures</p>
                <div class="endpoint">GET /filing/{userId}</div>
                <p><em>Data Store:</em> Filing Database with optimized queries</p>
                <p><em>Implementation:</em> FilingQueryServiceImpl with TaxFiling record entities</p>
            </div>

            <div class="service-card">
                <h3>Refund Aggregation Service</h3>
                <div class="port">Port 7002</div>
                <p><strong>External Integration</strong> - Multi-source aggregation with intelligent caching</p>
                <div class="endpoint">GET /aggregate-status/{filingId}</div>
                <p><em>Data Store:</em> Refund Database + TTL-based InMemoryCache (15m TTL)</p>
                <p><em>Implementation:</em> RefundDataAggregatorImpl with RefundStatusAggregate records</p>
            </div>

            <div class="service-card">
                <h3>Refund Prediction Service</h3>
                <div class="port">Port 7003</div>
                <p><strong>ML Predictions</strong> - AI-powered ETA predictions with result caching</p>
                <div class="endpoint">GET /refund-eta/{filingId}</div>
                <p><em>Data Store:</em> Model Database + Prediction Cache (4hr TTL)</p>
                <p><em>Implementation:</em> RefundEtaPredictorImpl with PredictionResult records</p>
            </div>
        </div>

        <h2>Modern Data Entities</h2>
        <div class="service-grid">
            <div class="service-card">
                <h3>üìã TaxFiling (Record)</h3>
                <p><strong>Type:</strong> Immutable Java Record</p>
                <p><strong>Purpose:</strong> Central tax filing data with compile-time guarantees</p>
                <ul>
                    <li><strong>Fields:</strong> filingId(int), taxYear(int), jurisdiction, refundAmount, filingDate, disbursementMethod</li>
                    <li><strong>Benefits:</strong> Automatic equals/hashCode ‚Ä¢ Built-in toString ‚Ä¢ Pattern matching ready</li>
                    <li><strong>Validation:</strong> Constructor-based validation ‚Ä¢ Type safety ‚Ä¢ Null safety</li>
                    <li><strong>API:</strong> Clean accessor methods (no getters) ‚Ä¢ Immutable by design</li>
                </ul>
            </div>

            <div class="service-card">
                <h3>üîÑ RefundStatusAggregate (Record)</h3>
                <p><strong>Type:</strong> Immutable Java Record</p>
                <p><strong>Purpose:</strong> Consolidated refund status from multiple sources</p>
                <ul>
                    <li><strong>Fields:</strong> filingId(int), trackingId, jurisdiction, status, rawStatusCode, messageKey, lastUpdatedAt, amount</li>
                    <li><strong>Immutability:</strong> Thread-safe data structure ‚Ä¢ Cacheable ‚Ä¢ Event-friendly</li>
                    <li><strong>Performance:</strong> Optimized memory layout ‚Ä¢ Fast equality checks</li>
                    <li><strong>Evolution:</strong> Backward-compatible API ‚Ä¢ Future pattern matching support</li>
                </ul>
            </div>

            <div class="service-card">
                <h3>üìä PredictionResult (Record)</h3>
                <p><strong>Type:</strong> Immutable Java Record</p>
                <p><strong>Purpose:</strong> ML model outputs with metadata</p>
                <ul>
                    <li><strong>Fields:</strong> expectedDays(double), confidence(double), modelVersion(String)</li>
                    <li><strong>Caching:</strong> Cacheable with TTL ‚Ä¢ High-confidence result caching ‚Ä¢ Memory efficient</li>
                    <li><strong>ML Pipeline:</strong> Type-safe model outputs ‚Ä¢ Versioned predictions</li>
                    <li><strong>API Design:</strong> Simple accessor methods ‚Ä¢ JSON serializable ‚Ä¢ REST-friendly</li>
                </ul>
            </div>

            <div class="service-card">
                <h3>üìà RefundEtaPrediction (Record)</h3>
                <p><strong>Type:</strong> Immutable Java Record</p>
                <p><strong>Purpose:</strong> User-facing prediction results</p>
                <ul>
                    <li><strong>Fields:</strong> expectedDate, confidence, windowDays</li>
                    <li><strong>User Experience:</strong> Clear date predictions ‚Ä¢ Confidence indicators ‚Ä¢ Uncertainty windows</li>
                    <li><strong>Business Logic:</strong> Derived from PredictionResult ‚Ä¢ User-friendly format</li>
                    <li><strong>Caching Strategy:</strong> 30-minute TTL ‚Ä¢ User-specific cache keys</li>
                </ul>
            </div>
        </div>

        <h2>Intelligent Caching Architecture</h2>
        <div class="description">
            <p><strong>Multi-Tier Caching Strategy:</strong> Custom Cache interface implementation with TTL support across all prediction services</p>
            
            <div class="service-grid">
                <div class="service-card">
                    <h3>üöÄ Cache Interface (API Contracts)</h3>
                    <ul>
                        <li><strong>Location:</strong> turbotax-api-contracts module for reusability</li>
                        <li><strong>Type Safety:</strong> Generic Cache&lt;T&gt; interface with Optional&lt;T&gt; returns</li>
                        <li><strong>Implementation:</strong> InMemoryCache with TTL and automatic cleanup</li>
                        <li><strong>Documentation:</strong> Comprehensive Javadoc with usage examples</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>üß† Prediction Result Cache</h3>
                    <ul>
                        <li><strong>TTL:</strong> 4 hours for ML model predictions</li>
                        <li><strong>Cache Key:</strong> Stable hash of feature vectors</li>
                        <li><strong>Conditional Caching:</strong> Only cache high-confidence results (‚â• 0.5)</li>
                        <li><strong>Memory Management:</strong> Automatic cleanup every 30 minutes</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>üìä ETA Prediction Cache</h3>
                    <ul>
                        <li><strong>TTL:</strong> 30 minutes for user-facing predictions</li>
                        <li><strong>Cache Key:</strong> Filing ID based for user queries</li>
                        <li><strong>Performance:</strong> Reduces redundant ML computations</li>
                        <li><strong>Consistency:</strong> Balances freshness with performance</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>üîß Cache Implementation Features</h3>
                    <ul>
                        <li><strong>Thread Safety:</strong> ConcurrentHashMap for high concurrency</li>
                        <li><strong>Resource Management:</strong> Scheduled executor for cleanup</li>
                        <li><strong>Null Safety:</strong> Graceful handling of null keys/values</li>
                        <li><strong>Statistics:</strong> Cache hit/miss metrics for monitoring</li>
                    </ul>
                </div>
            </div>
        </div>

        <h2>Code Quality & Documentation</h2>
        <div class="description">
            <p><strong>Enterprise-Grade Standards:</strong> Comprehensive documentation and modern Java practices throughout the codebase</p>
            
            <div class="service-grid">
                <div class="service-card">
                    <h3>üìö Comprehensive Javadoc</h3>
                    <ul>
                        <li><strong>API Contracts:</strong> All service interfaces fully documented</li>
                        <li><strong>Usage Examples:</strong> Code examples in documentation</li>
                        <li><strong>Parameter Validation:</strong> Clear constraint documentation</li>
                        <li><strong>Exception Handling:</strong> Documented error conditions</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>üèóÔ∏è Modern Java Patterns</h3>
                    <ul>
                        <li><strong>Records Only:</strong> Immutable data structures throughout</li>
                        <li><strong>Zero Lombok:</strong> Clean, standard Java implementations</li>
                        <li><strong>Type Safety:</strong> int filingId consistency across services</li>
                        <li><strong>Pattern Matching Ready:</strong> Future Java feature compatibility</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>‚ö° Performance Optimizations</h3>
                    <ul>
                        <li><strong>Memory Efficient:</strong> Records provide optimal memory layout</li>
                        <li><strong>Cache Strategy:</strong> Intelligent caching reduces redundant operations</li>
                        <li><strong>Reactive Streams:</strong> Non-blocking I/O with WebFlux</li>
                        <li><strong>Build Optimization:</strong> Fast compilation with clean dependencies</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>üõ†Ô∏è Developer Experience</h3>
                    <ul>
                        <li><strong>IDE Support:</strong> Better debugging without generated code</li>
                        <li><strong>Build Speed:</strong> No annotation processing overhead</li>
                        <li><strong>Code Clarity:</strong> Explicit implementations over magic</li>
                        <li><strong>Maintainability:</strong> Clear ownership and responsibilities</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="description">
            <p><strong>Business Process Flow:</strong> How entities interact throughout the refund lifecycle</p>
            
            <div class="service-grid">
                <div class="service-card">
                    <h3>üîÑ Primary Data Flow</h3>
                    <ol>
                        <li><strong>User Registration:</strong> User entity created with identity verification</li>
                        <li><strong>Tax Filing:</strong> FilingMetadata entity captures return details</li>
                        <li><strong>Status Tracking:</strong> RefundStatus entity monitors processing progress</li>
                        <li><strong>Feature Engineering:</strong> AiFeatures entity extracts ML-ready data</li>
                        <li><strong>ETA Prediction:</strong> ModelOutput entity stores AI predictions</li>
                    </ol>
                </div>

                <div class="service-card">
                    <h3>‚ö° Real-Time Updates</h3>
                    <ul>
                        <li><strong>User Queries:</strong> Instant access to current refund status</li>
                        <li><strong>External API Sync:</strong> Live updates from IRS and state systems</li>
                        <li><strong>ML Inference:</strong> On-demand ETA predictions for active refunds</li>
                        <li><strong>Cache Strategy:</strong> Smart caching based on refund finality</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>üìà Analytics & Insights</h3>
                    <ul>
                        <li><strong>Historical Analysis:</strong> Filing patterns and seasonal trends</li>
                        <li><strong>Performance Metrics:</strong> Prediction accuracy and model drift</li>
                        <li><strong>Business Intelligence:</strong> Processing bottlenecks and optimization opportunities</li>
                        <li><strong>Customer Insights:</strong> User behavior and satisfaction indicators</li>
                    </ul>
                </div>
            </div>
        </div>

        <h2>Real-Time Flow (User-Initiated)</h2>
        <div class="description">
            <p><strong>Interactive Refund Status Queries:</strong> Real-time processing of user requests for current refund status</p>
            
            <div class="service-card">
                <h3>üîÑ Processing Flow</h3>
                <ol>
                    <li><strong>User Request:</strong> Client application requests refund status via API Gateway</li>
                    <li><strong>Orchestration:</strong> Refund Status Service coordinates the entire workflow</li>
                    <li><strong>Filing Lookup:</strong> Gets user's latest filing information from Filing Metadata Service</li>
                    <li><strong>Status Aggregation:</strong> Fetches refund status from cache or external systems via Aggregator</li>
                    <li><strong>ETA Prediction:</strong> AI service predicts delivery timeframes using ML models</li>
                    <li><strong>Response Assembly:</strong> Orchestrator combines all data into comprehensive RefundSummaryInfo</li>
                </ol>
            </div>

            <div class="service-card">
                <h3>‚ö° Performance Characteristics</h3>
                <ul>
                    <li><strong>Response Time:</strong> < 500ms for cached data</li>
                    <li><strong>Cache Hit Rate:</strong> 85-90% for frequently queried refunds</li>
                    <li><strong>Concurrent Users:</strong> Supports 10,000+ concurrent requests</li>
                    <li><strong>Reactive Processing:</strong> Non-blocking I/O with WebFlux</li>
                </ul>
            </div>

            <div class="service-card">
                <h3>üéØ Service Coordination</h3>
                <ul>
                    <li><strong>Orchestrator Pattern:</strong> Central coordination of all service calls</li>
                    <li><strong>Parallel Processing:</strong> Simultaneous calls to independent services</li>
                    <li><strong>Circuit Breakers:</strong> Fault tolerance for external API failures</li>
                    <li><strong>Graceful Degradation:</strong> Partial responses when services are unavailable</li>
                </ul>
            </div>
        </div>

        <h2>Batch Processing Flow</h2>
        <div class="description">
            <p><strong>Automated Refund Status Updates:</strong> Scheduled batch processing ensures all pending refunds are regularly updated</p>
            
            <div class="service-card">
                <h3>üïê Processing Schedule</h3>
                <ul>
                    <li><strong>Peak Season (Jan-Apr):</strong> Every 2 hours</li>
                    <li><strong>Off Season (May-Dec):</strong> Every 6 hours</li>
                    <li><strong>Emergency Processing:</strong> On-demand manual trigger</li>
                </ul>
            </div>

            <div class="service-card">
                <h3>‚öôÔ∏è Processing Steps</h3>
                <ol>
                    <li><strong>Scheduled Trigger:</strong> Cron scheduler initiates batch process</li>
                    <li><strong>Pending Query:</strong> Batch processor queries all pending refunds from database</li>
                    <li><strong>Aggregator Call:</strong> Batch service calls Refund Status Aggregator for bulk updates</li>
                    <li><strong>External API Processing:</strong> Aggregator handles bulk calls to IRS, State Tax, Money Movement APIs</li>
                    <li><strong>Event Publishing:</strong> Aggregator publishes status change events to Kafka</li>
                    <li><strong>Metrics Logging:</strong> Batch service records processing statistics and performance metrics</li>
                    <li><strong>Error Handling:</strong> Aggregator provides consistent retry logic and error management</li>
                </ol>
            </div>

            <div class="service-card">
                <h3>üìä Key Features</h3>
                <ul>
                    <li><strong>Rate Limiting:</strong> Respects external API rate limits</li>
                    <li><strong>Retry Logic:</strong> Exponential backoff for failed requests</li>
                    <li><strong>Error Handling:</strong> Comprehensive error tracking and recovery</li>
                    <li><strong>Progress Tracking:</strong> Real-time batch job status monitoring</li>
                    <li><strong>Performance Metrics:</strong> Processing time and throughput analytics</li>
                </ul>
            </div>
        </div>

        <h2>Data Architecture</h2>
        <div class="description">
            <p><strong>Database per Service Pattern:</strong> Each microservice maintains its own dedicated database</p>
            <ul>
                <li><strong>Filing Database:</strong> Stores tax filing metadata, user information, filing status</li>
                <li><strong>Refund Database:</strong> Stores refund status data, aggregated information from external sources</li>
                <li><strong>Model Database:</strong> Stores ML model parameters, training data, feature vectors for ETA predictions</li>
                <li><strong>Cache Layer:</strong> Redis/In-memory cache for performance optimization in the aggregate service</li>
            </ul>
        </div>

        <h2>Data Architecture Patterns</h2>
        <div class="description">
            <p><strong>Database per Service:</strong> Each microservice maintains its own dedicated database with specific entity ownership</p>
            
            <div class="service-grid">
                <div class="service-card">
                    <h3>üìä Filing Database</h3>
                    <ul>
                        <li><strong>Entities:</strong> FilingMetadata, User (subset)</li>
                        <li><strong>Access Pattern:</strong> Read-heavy with seasonal spikes</li>
                        <li><strong>Scaling:</strong> Read replicas during tax season</li>
                        <li><strong>Backup:</strong> Daily incremental, weekly full backup</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>üíæ Refund Database</h3>
                    <ul>
                        <li><strong>Entities:</strong> RefundStatus, ExternalApiLog</li>
                        <li><strong>Caching:</strong> Redis layer for frequently accessed data</li>
                        <li><strong>Partitioning:</strong> By tax year and jurisdiction</li>
                        <li><strong>Retention:</strong> 7 years for compliance</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>üß† Model Database</h3>
                    <ul>
                        <li><strong>Entities:</strong> AiFeatures, ModelOutput, ModelMetadata</li>
                        <li><strong>Time Series:</strong> Historical prediction tracking</li>
                        <li><strong>Model Versioning:</strong> A/B testing support</li>
                        <li><strong>Performance:</strong> Optimized for batch inference</li>
                    </ul>
                </div>

                <div class="service-card">
                    <h3>üì¨ Notification Database</h3>
                    <ul>
                        <li><strong>Entities:</strong> NotificationPreference, NotificationHistory</li>
                        <li><strong>Event Sourcing:</strong> Complete notification audit trail</li>
                        <li><strong>Compliance:</strong> GDPR-compliant data handling</li>
                        <li><strong>Analytics:</strong> Delivery rate optimization</li>
                    </ul>
                </div>
            </div>
        </div>

        <h2>Cross-Cutting Concerns</h2>
        <div class="service-grid">
            <div class="service-card">
                <h3>Security & Auth</h3>
                <ul>
                    <li>Authentication & Authorization</li>
                    <li>JWT Token Management</li>
                    <li>API Security</li>
                    <li>Data Encryption</li>
                </ul>
            </div>
            <div class="service-card">
                <h3>Centralized Logging</h3>
                <ul>
                    <li>Structured Logging</li>
                    <li>Log Aggregation</li>
                    <li>Log Correlation</li>
                    <li>Error Tracking</li>
                </ul>
            </div>
            <div class="service-card">
                <h3>Monitoring & Metrics</h3>
                <ul>
                    <li>Application Metrics</li>
                    <li>Performance Monitoring</li>
                    <li>Health Checks</li>
                    <li>Alerting</li>
                </ul>
            </div>
            <div class="service-card">
                <h3>Configuration Management</h3>
                <ul>
                    <li>Environment Configuration</li>
                    <li>Feature Flags</li>
                    <li>Dynamic Configuration</li>
                    <li>Secrets Management</li>
                </ul>
            </div>
            <div class="service-card">
                <h3>Distributed Tracing</h3>
                <ul>
                    <li>Request Tracing</li>
                    <li>Performance Analysis</li>
                    <li>Service Dependency Mapping</li>
                    <li>Latency Tracking</li>
                </ul>
            </div>
        </div>

        <h2>Modern Technology Stack</h2>
        <div class="service-grid">
            <div class="service-card">
                <h3>‚òï Backend Platform</h3>
                <ul>
                    <li><strong>Runtime:</strong> Java 24 with modern language features</li>
                    <li><strong>Framework:</strong> Spring Boot 3.5.0 with WebFlux reactive</li>
                    <li><strong>Data Structures:</strong> Java Records for immutable entities</li>
                    <li><strong>Dependencies:</strong> Zero external annotation processors</li>
                </ul>
            </div>
            <div class="service-card">
                <h3>üèóÔ∏è Build & Deployment</h3>
                <ul>
                    <li><strong>Build System:</strong> Gradle multi-module with clean dependencies</li>
                    <li><strong>Health Monitoring:</strong> Actuator with comprehensive health checks</li>
                    <li><strong>Observability:</strong> Structured logging and distributed tracing</li>
                    <li><strong>Performance:</strong> Fast build times without annotation processing</li>
                </ul>
            </div>
            <div class="service-card">
                <h3>üíæ Caching & Storage</h3>
                <ul>
                    <li><strong>Cache Interface:</strong> Custom generic Cache&lt;T&gt; abstraction</li>
                    <li><strong>Implementation:</strong> InMemoryCache with TTL and cleanup</li>
                    <li><strong>Strategy:</strong> Multi-tier caching (ML predictions + ETA results)</li>
                    <li><strong>Performance:</strong> Thread-safe concurrent access patterns</li>
                </ul>
            </div>
            <div class="service-card">
                <h3>üì° Communication & APIs</h3>
                <ul>
                    <li><strong>Protocol:</strong> REST APIs with JSON payloads</li>
                    <li><strong>Documentation:</strong> Comprehensive Javadoc for all interfaces</li>
                    <li><strong>Type Safety:</strong> Record-based DTOs with compile-time validation</li>
                    <li><strong>Patterns:</strong> Service orchestration with intelligent caching</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis',
                nodeSpacing: 85,
                rankSpacing: 75,
                padding: 15
            },
            er: {
                useMaxWidth: true,
                fontSize: '8px',
                layoutDirection: 'TB'
            },
            themeVariables: {
                fontSize: '13px',
                fontFamily: 'Arial, sans-serif',
                primaryColor: '#fff3e0',
                primaryTextColor: '#000',
                primaryBorderColor: '#f57c00',
                lineColor: '#333',
                secondaryColor: '#e1f5fe',
                tertiaryColor: '#f3e5f5'
            }
        });
    </script>
</body>
</html>